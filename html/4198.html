<meta http-equiv="content-type" content="text/html; charset=UTF-8"><html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="include/hoj.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<center>
<div style="width:90%; text-align:left">
<img src="image/image_logo_png"/>
</div>
<table width="96%">
<tr align="center" class="hd" valign="top">
<th><a href="faqs.php">F.A.Qs</a></th>
<th><a href="./">Home</a></th>
<th><a href="./bbs.php">Discuss</a></th>
<th><a href="./problemset.php">ProblemSet</a></th>
<th><a href="./status.php">Status</a></th>
<th><a href="./ranklist.php">Ranklist</a></th>
<th><a href="./contest.php">Contest</a></th>
<th><a href="./modifypage.php"><b>ModifyUser</b></a>  <a href="userinfo.php?user=free_bzoj">
<font color="red">free_bzoj</font></a></th><th><a href="logout.php">Logout</a></th> <th><a href="./donation.php"><font color="red">捐赠本站</font></a></th>
</tr>
</table>
</center>
<center>
<div class="notice">
<div>
<b>Notice:</b>1:由于本OJ建立在Linux平台下，而许多题的数据在Windows下制作，请注意输入、输出语句及数据类型及范围，避免无谓的RE出现。
2:本站即将推出针对初学者的试题系统(与目前OJ是分开的，互不影响)，内容覆盖从语法入门到NOI的所有知识点，敬请关注。
	</div>
</div>
</center>
<title>Problem 4198. -- [Noi2015]荷马史诗</title><center><h2>4198: [Noi2015]荷马史诗</h2><span class="green">Time Limit: </span>10 Sec  <span class="green">Memory Limit: </span>512 MB<br/><span class="green">Submit: </span>486  <span class="green">Solved: </span>241<br/>[<a href="submitpage.php?id=4198">Submit</a>][<a href="problemstatus.php?id=4198">Status</a>][<a href="bbs.php?id=4198">Discuss</a>]</center><h2>Description</h2><div class="content"><p>追逐影子的人，自己就是影子。 ——荷马</p>
<div>Allison 最近迷上了文学。她喜欢在一个慵懒的午后，细细地品上一杯卡布奇诺，静静地阅读她爱不释手的《荷马史诗》。但是由《奥德赛》和《伊利亚特》组成的鸿篇巨制《荷马史诗》实在是太长了，Allison 想通过一种编码方式使得它变得短一些。</div>
<div>一部《荷马史诗》中有 n 种不同的单词，从 1 到 n 进行编号。其中第 i 种单词出现的总次数为 wi。Allison 想要用 k 进制串 si 来替换第 i 种单词，使得其满足如下要求:</div>
<div>对于任意的 1≤i,j≤n，i≠j，都有：si 不是 sj 的前缀。</div>
<div>现在 Allison 想要知道，如何选择 si，才能使替换以后得到的新的《荷马史诗》长度最小。在确保总长度最小的情况下，Allison 还想知道最长的 si 的最短长度是多少？</div>
<div>一个字符串被称为 k 进制字符串，当且仅当它的每个字符是 0 到 k−1 之间（包括 0 和 k−1）的整数。</div>
<div>字符串 Str1 被称为字符串 Str2 的前缀，当且仅当：存在 1≤t≤m，使得 Str1=Str2[1..t]。其中，m 是字符串 Str2 的长度，Str2[1..t] 表示 Str2 的前 t 个字符组成的字符串。</div>
<div></div></div><h2>Input</h2><div class="content"><p>输入文件的第 1 行包含 2 个正整数 n,k，中间用单个空格隔开，表示共有 n 种单词，需要使用 k 进制字符串进行替换。</p>
<div>接下来 n 行，第 i+1 行包含 1 个非负整数 wi，表示第 i 种单词的出现次数。</div>
<div></div></div><h2>Output</h2><div class="content"><p>输出文件包括 2 行。</p>
<div>第 1 行输出 1 个整数，为《荷马史诗》经过重新编码以后的最短长度。</div>
<div>第 2 行输出 1 个整数，为保证最短总长度的情况下，最长字符串 si 的最短长度。</div>
<div></div></div><h2>Sample Input</h2>
<div class="content"><span class="sampledata">4 2<br/>
1<br/>
1<br/>
2<br/>
2</span></div><h2>Sample Output</h2>
<div class="content"><span class="sampledata">12<br/>
2</span></div><h2>HINT</h2>
<div class="content"><p></p><div>用 X(k) 表示 X 是以 k 进制表示的字符串。</div><br/>
<div>一种最优方案：令 00(2) 替换第 1 种单词，01(2) 替换第 2 种单词，10(2) 替换第 3 种单词，11(2) 替换第 4 种单词。在这种方案下，编码以后的最短长度为：</div><br/>
<div></div><br/>
<div>1×2+1×2+2×2+2×2=12</div><br/>
<div>最长字符串 si 的长度为 2。</div><br/>
<div></div><br/>
<div>一种非最优方案：令 000(2) 替换第 1 种单词，001(2) 替换第 2 种单词，01(2) 替换第 3 种单词，1(2) 替换第 4 种单词。在这种方案下，编码以后的最短长度为：</div><br/>
<div></div><br/>
<div>1×3+1×3+2×2+2×1=12</div><br/>
<div>最长字符串 si 的长度为 3。与最优方案相比，文章的长度相同，但是最长字符串的长度更长一些。</div><br/>
<div></div><br/>
<div>对于所有数据，保证 2≤n≤100000，2≤k≤9。</div><br/>
<div></div><br/>
<div>选手请注意使用 64 位整数进行输入输出、存储和计算。</div><br/>
<p></p><br/>
<p></p></div><h2>Source</h2>
<div class="content"><p><a href="problemset.php?search="></a></p></div><center>[<a href="submitpage.php?id=4198">Submit</a>][<a href="problemstatus.php?id=4198">Status</a>][<a href="bbs.php?id=4198">Discuss</a>]</center>﻿<br/>
<a href="./"><span class="red">HOME</span></a>
<a href="javascript:history.go(-1)"><span class="red">Back</span></a>
<hr/>
<center>
<div class="footer">
<a href="setlang.php?lang=ko">한국어</a> 
		<a href="setlang.php?lang=cn">中文</a> 
		<a href="setlang.php?lang=fa">فارسی</a> 
		<a href="setlang.php?lang=en">English</a> 
		<a href="setlang.php?lang=th">ไทย</a>
<br/> <div>版权所有 ©2008-2012 大视野在线测评 | <a href="http://www.miitbeian.gov.cn">湘ICP备13009380号</a> | <script language="JavaScript" src="http://s21.cnzz.com/stat.php?id=2982771&amp;web_id=2982771"></script>
</div>
<div>Based on opensource project <a href="http://hustoj.googlecode.com">hustoj</a>.</div>
</div>
</center>
</body>
</html>
